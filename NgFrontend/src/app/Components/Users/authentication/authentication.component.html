<ng-container *ngLet="userIsLoggedIn$ | async as userIsLoggedIn">
  <div class="flex flex-row md:flex-row" *ngIf="!userIsLoggedIn">
    <div
      class="w-full md:w-5 flex flex-column align-items-center justify-content-center gap-3 py-5"
    >
      <form [formGroup]="loginForm" (ngSubmit)="login()">
        <div
          class="flex flex-wrap justify-content-center align-items-center gap-2"
        >
          <label class="w-6rem">Username</label>
          <input
            pInputText
            id="username"
            formControlName="username"
            type="text"
            [ngClass]="
              loginForm.controls.username.invalid &&
              loginForm.controls.username.touched
                ? 'ng-invalid ng-dirty'
                : ''
            "
          />
        </div>
        <div
          class="flex flex-wrap justify-content-center align-items-center gap-2"
        >
          <label class="w-6rem">Password</label>
          <input
            pInputText
            formControlName="password"
            id="password"
            type="password"
            class="w-12rem"
          />
        </div>
        <p-button
          label="Login"
          icon="pi pi-user"
          styleClass="w-10rem mx-auto"
          type="submit"
          [disabled]="loginForm.invalid"
        ></p-button>
      </form>
    </div>
    <div class="w-full md:w-2">
      <p-divider layout="vertical" styleClass="hidden md:flex"
        ><b>OR</b></p-divider
      >
    </div>
    <div
      class="w-full md:w-5 flex align-items-center justify-content-center py-5"
    >
      <p-button
        label="Sign Up"
        styleClass="p-button-success w-10rem"
      ></p-button>
    </div>
  </div>
  <div *ngIf="userIsLoggedIn">
    <p-button
      label="Logout"
      styleClass="p-button-success w-10rem"
      (onClick)="logout()"
    ></p-button>
  </div>
</ng-container>
